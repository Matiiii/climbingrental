<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">

<head>

<link th:include="fragments/header :: head" th:remove="tag" />
<link th:href="@{/css/products.css}" href="../static/css/products.css" rel="stylesheet"/>
</head>

<body>

<!-- Navigation -->
<div th:replace="fragments/header :: navbar">
</div>

<!-- Page Content -->
<div class="container content">

    <div class="row">

        <div class="col-xs-12 col-ms-12 col-md-3 form">
           

            <form id="orderForm" method="get" th:action="@{/shop}" th:object="${filterProducts}" >
                <table>
                    <tr><td class="order"><label for="from">Wpisz nazwę produktu</label></td></tr>
                    <tr><td class="order"><input type="text" name="productName"  id="usr" /></td></tr>
                    <tr><td class="order"><p>Wybierz okres, na który chcesz wypożyczyć sprzęt:</p></td></tr>
                    <tr><td class="order"><label for="from">Od:</label></td></tr>
                    <tr><td class="order"><input type="text" id="from" name="orderStart" th:field="*{orderStart}" /></td></tr>
                    <tr><td class="order"><label for="to">do:</label></td></tr>
                    <tr><td class="order"><input type="text" id="to" name="orderEnd" th:field="*{orderEnd}" /></td></tr>
                    <tr><td class="order"><button type="submit" class="btn btn-success">Sprawdz dostepnosc</button></td></tr>
                </table>


                <div class="form-group">

                </div>
            </form>

        </div>

        <div class="col-xs col-sm col-md-9">

            <div class="row">

                <div th:each="countProduct: ${countProducts}" class="col-xs col-sm col-lg-4 col-md-6 product">
                    <div class="thumbnail">
						<div class="productImg">
						<img th:src="${countProduct.product.smallImage}" />
						</div>
                        
                        <div class="caption">

                            <a href="shop.html" th:href="'/product/'+${countProduct.product.id}"> <h3 class="pull-right" th:text="${countProduct.product.productName}">Name</h3></a>
                            <p class="pull-right" th:text="'Cena za dzien: '+${countProduct.product.price}+'zl'">$24.99</p>
                            <br/>
                            <p class="pull-right" th:text="'Na magazynie dostepnych: '+${countProduct.count}">0</p>
                            <br/>

                        </div>
                    </div>
                </div>
            </div>

        </div>


<!-- /.container -->

        <div class="container">
            <!-- Footer -->
            <footer>
                <div class="row" th:replace="fragments/footer :: footer">static footer</div>
            </footer>
        </div>
<!-- /.container -->

        <!-- jQuery
        <script src="https://blackrockdigital.github.io/startbootstrap-shop-homepage/js/jquery.js"></script>
-->
        <!-- Bootstrap Core JavaScript -->
       <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

        <script>

            $(function() {
                var dateFormat = "mm/dd/yy", from = $("#from").datepicker(
                        {
                            dateFormat : "mm/dd/yy"
                        }).on("change", function() {
                    to.datepicker("option", "minDate", getDate(this));
                }), to = $("#to").datepicker(
                        {
                            dateFormat : "mm/dd/yy"
                        }).on("change", function() {
                    from.datepicker("option", "maxDate", getDate(this));
                });

                function getDate(element) {
                    var date;
                    try {
                        date = $.datepicker.parseDate(dateFormat, element.value);
                    } catch (error) {
                        date = null;
                    }

                    return date;
                }
            });
        </script>

    </div>
</div>
</body>
</html>